---
// src/components/hero.astro - Version simplifiée avec logo en haut
import OptimizeImage from './optimize_image.astro';

interface Props {
  variant?: 'overlay' | 'blend' | 'gradient' | 'texture' | 'none';
  lang: string;
  title: string;
  buttonText: string;
  buttonHref: string;
}

const { variant = 'overlay', lang, title, buttonText, buttonHref } = Astro.props;
---

<section class="relative min-h-[500px] md:min-h-[600px] lg:min-h-[700px] flex flex-col overflow-hidden">
  <!-- Image de fond -->
  <div class="absolute inset-0 z-0">
    <OptimizeImage 
      src="/src/assets/img/diner_2432_1664.jpg"
      alt="ABC Gourmet - Textures alimentaires"
      class="w-full h-full object-cover"
      loading="eager"
      widths={[800, 1200, 1600, 2000]}
      sizes="100vw"
    />
    
    <!-- Overlays selon la variante -->
    {variant === 'overlay' && (
      <div class="absolute inset-0 bg-gradient-to-r from-[var(--color-primary)] via-[var(--color-primary-hover)] to-[var(--color-secondary)] opacity-85"></div>
    )}
    
    {variant === 'blend' && (
      <div class="absolute inset-0 bg-[var(--color-primary)] mix-blend-multiply opacity-70"></div>
    )}
    
    {variant === 'gradient' && (
      <>
        <div class="absolute inset-0 bg-gradient-to-br from-[var(--color-primary)]/90 via-[var(--color-primary-hover)]/60 to-transparent"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/30"></div>
      </>
    )}
    
    {variant === 'texture' && (
      <>
        <div class="absolute inset-0 bg-[var(--color-primary)] opacity-75"></div>
        <div class="absolute inset-0 bg-gradient-to-br from-transparent via-black/20 to-[var(--color-secondary)]/30"></div>
        <div class="absolute inset-0" style="background-image: radial-gradient(circle at 20% 50%, transparent 40%, rgba(255,255,255,0.1) 50%);"></div>
      </>
    )}
    
    {variant === 'none' && (
      <div class="absolute inset-0"></div>
    )}
  </div>
  
  <!-- Logo collé en haut -->
  <div class="relative z-10 flex justify-center">
    <div class="bg-white px-4 pb-2 pt-3 sm:px-6 sm:pb-3 sm:pt-4 border-4 border-white rounded-b-lg shadow-lg">
      <OptimizeImage 
        src="/src/assets/img/logow_300x162.png"
        alt="ABC Gourmet Logo"
        class="h-12 sm:h-16 w-auto"
        loading="eager"
        widths={[150, 200, 300]}
      />
    </div>
  </div>
  
  <!-- Contenu principal centré -->
  <div class="relative z-10 flex-1 flex items-center justify-center px-4">
    <div class="text-center text-white max-w-4xl">
      <h1 class={`text-4xl md:text-6xl lg:text-7xl font-bold leading-tight ${variant === 'none' ? 'drop-shadow-2xl' : 'drop-shadow-lg'}`}>
        {title}
      </h1>
    </div>
  </div>
  
  <!-- CTA et indicateur de scroll en bas -->
  <div class="relative z-10 pb-8 flex flex-col items-center gap-8">
    <a 
      href={buttonHref}
      class="inline-block bg-white/95 backdrop-blur-sm text-[var(--color-primary)] font-semibold px-8 py-4 text-lg rounded-lg hover:bg-white hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"
    >
      {buttonText}
    </a>
    
    <div class="w-6 h-10 border-2 border-white/60 rounded-full flex justify-center">
      <div class="w-1 h-3 bg-white/80 rounded-full mt-2 animate-bounce"></div>
    </div>
  </div>
</section>

<style>
  /* Styles pour la variante "none" */
  .drop-shadow-2xl {
    text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
  }
  
  /* Hover effect du bouton */
  a:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }
</style>