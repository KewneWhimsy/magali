---
// src/pages/[lang]/index.astro
import Layout from '../../layouts/layout.astro';
import TestimonialsCarousel from '../../components/testimonials_carousel.astro';
import Hero from '../../components/hero.astro';
import CTASection from '../../components/cta.astro';
import ExpertiseCard from '../../components/expertise_card.astro';

export function getStaticPaths() {
  return [
    { params: { lang: "fr" } },
    { params: { lang: "en" } },
    { params: { lang: "de" } },
  ];
}

const lang = Astro.params.lang as "fr" | "en" | "de";

const content = {
  fr: {
    title: 'ABC Gourmet - Conseil en Agroalimentaire',
    description: 'Expertise stratégique et accompagnement opérationnel dans le secteur alimentaire. Développement produit, marketing, export et management.',
    heroTitle: 'Conseil stratégique et accompagnement opérationnel dans le secteur alimentaire',
    heroButton: 'Découvrir nos services',
    ctaTitle: 'Prêt à développer votre projet alimentaire ?',
    ctaSubtitle: 'Contactez-nous pour discuter de vos besoins et découvrir comment nous pouvons vous accompagner.',
    ctaButton: 'Nous contacter'
  },
  en: {
    title: 'ABC Gourmet - Food Industry Consulting',
    description: 'Strategic expertise and operational support in the food sector. Product development, marketing, export and management.',
    heroTitle: 'Strategic consulting and operational support in culinary enterprises',
    heroButton: 'Discover our services',
    ctaTitle: 'Ready to develop your food project?',
    ctaSubtitle: 'Contact us to discuss your needs and discover how we can support you.',
    ctaButton: 'Contact us'
  },
  de: {
    title: 'ABC Gourmet - Beratung für die Lebensmittelindustrie',
    description: 'Strategische Expertise und operative Unterstützung im Lebensmittelsektor. Produktentwicklung, Marketing, Export und Management.',
    heroTitle: 'Strategische Beratung und operative Begleitung im Lebensmittelbereich',
    heroButton: 'Unsere Dienstleistungen entdecken',
    ctaTitle: 'Bereit, Ihr Lebensmittelprojekt zu entwickeln?',
    ctaSubtitle: 'Kontaktieren Sie uns, um über Ihre Bedürfnisse zu sprechen und zu entdecken, wie wir Sie unterstützen können.',
    ctaButton: 'Kontaktieren Sie uns'
  }
};

const t = content[lang] || content.fr;
---

<Layout title={t.title} description={t.description} lang={lang}>
  <Hero 
    variant="none"
    lang={lang}
    title={t.heroTitle}
    buttonText={t.heroButton}
    buttonHref={`/${lang}/services/`}
  />

  <!-- Section expertises -->
  <ExpertiseCard lang={lang} />

  <!-- Section témoignages -->
  <TestimonialsCarousel lang={lang} />
  
  <!-- Section CTA avec image de fond -->
  <CTASection 
    variant="overlay"
    lang={lang}
    title={t.ctaTitle}
    subtitle={t.ctaSubtitle}
    buttonText={t.ctaButton}
    buttonHref={`/${lang}/contact/`}
    imageSrc="/src/assets/img/cta.jpg"
    imageAlt="ABC Gourmet - Préparation culinaire professionnelle"
  />
</Layout>