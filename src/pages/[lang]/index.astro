---
// src/pages/[lang]/index.astro
import Layout from '../../layouts/layout.astro';
import TestimonialsCarousel from '../../components/testimonials_carousel.astro';
import Hero from '../../components/hero.astro';
import CTASection from '../../components/cta.astro';
import OptimizeImage from '../../components/optimize_image.astro';

export function getStaticPaths() {
  return [
    { params: { lang: "fr" } },
    { params: { lang: "en" } },
    { params: { lang: "de" } },
  ];
}

const lang = Astro.params.lang as "fr" | "en" | "de";

const content = {
  fr: {
    title: 'ABC Gourmet - Conseil en Agroalimentaire',
    description: 'Expertise stratégique et accompagnement opérationnel dans le secteur alimentaire. Développement produit, marketing, export et management.',
    heroTitle: 'CONSEIL STRATÉGIQUE ET ACCOMPAGNEMENT OPÉRATIONNEL',
    heroButton: 'Découvrir nos services',
    
    // Contenu "Qui sommes-nous"
    aboutTitle: 'Qui sommes-nous ?',
    aboutSubtitle: 'Un collectif de passionnés de bons produits, de leurs histoires, de ceux qui les portent. Travaillant en collaboratif avec un réseau d’experts.',
    visionTitle: 'Vision',
    visionText: 'Faire voyager des TPE/PME du secteur alimentaire, leur donner les moyens des grandes sociétés pour une croissance durable en France et à l\'international. L\'idée : mutualiser les coûts et chasser en meute.',
    missionTitle: 'Mission', 
    missionText: 'Proposer un accompagnement stratégique et opérationnel sur-mesure, de la réflexion à l\'exécution. Des services, des compétences, une expérience accessibles aux TPE et PME.',
    valuesTitle: 'Valeurs',
    valuesText: 'Respect, expertise, réseau, agilité, excellence, confiance, passion, partage, émotion.',
    
    ctaTitle: 'Et si nous nous mettions à table pour partager vos besoins ?',
    ctaSubtitle: 'Contactez-nous pour discuter de vos besoins et découvrir comment nous pouvons vous accompagner.',
    ctaButton: 'Nous contacter'
  },
  en: {
    title: 'ABC Gourmet - Food Industry Consulting',
    description: 'Strategic expertise and operational support in the food sector. Product development, marketing, export and management.',
    heroTitle: 'STRATEGIC CONSULTING AND OPERATIONAL SUPPORT',
    heroButton: 'Discover our services',
    
    // Contenu "Qui sommes-nous"
    aboutTitle: 'Who are we?',
    aboutSubtitle: 'A collective of enthusiasts passionate about quality products, their stories, and the people behind them. Working collaboratively with a network of experts.',
    visionTitle: 'Vision',
    visionText: 'Make SMEs in the food sector travel, give them the means of large companies for sustainable growth in France and internationally. The idea: pool costs and hunt in packs.',
    missionTitle: 'Mission',
    missionText: 'Offer tailor-made strategic and operational support, from reflection to execution. Services, skills, experience accessible to SMEs.',
    valuesTitle: 'Values',
    valuesText: 'Respect, expertise, network, agility, excellence, trust, passion, sharing, emotion.',
    
    ctaTitle: 'And what if we sat down at the table to share your needs?',
    ctaSubtitle: 'Contact us to discuss your needs and discover how we can support you.',
    ctaButton: 'Contact us'
  },
  de: {
    title: 'ABC Gourmet - Beratung für die Lebensmittelindustrie',
    description: 'Strategische Expertise und operative Unterstützung im Lebensmittelsektor. Produktentwicklung, Marketing, Export und Management.',
    heroTitle: 'STRATEGISCHE BERATUNG UND OPERATIVE BEGLEITUNG',
    heroButton: 'Unsere Dienstleistungen entdecken',
    
    // Contenu "Qui sommes-nous"
    aboutTitle: 'Wer sind wir?',
    aboutSubtitle: 'Ein Kollektiv von Enthusiasten, die sich für hochwertige Produkte, ihre Geschichten und die Menschen dahinter begeistern. Arbeitet kollaborativ mit einem Netzwerk von Experten.',
    visionTitle: 'Vision',
    visionText: 'KMUs im Lebensmittelsektor reisen lassen, ihnen die Mittel großer Unternehmen für nachhaltiges Wachstum in Frankreich und international geben. Die Idee: Kosten bündeln und im Rudel jagen.',
    missionTitle: 'Mission',
    missionText: 'Maßgeschneiderte strategische und operative Begleitung anbieten, von der Reflexion bis zur Umsetzung. Dienstleistungen, Kompetenzen, Erfahrung zugänglich für KMUs.',
    valuesTitle: 'Werte',
    valuesText: 'Respekt, Expertise, Netzwerk, Agilität, Exzellenz, Vertrauen, Leidenschaft, Teilen, Emotion.',
    
    ctaTitle: 'Und was wäre, wenn wir uns an den Tisch setzen würden, um Ihre Bedürfnisse zu teilen?',
    ctaSubtitle: 'Kontaktieren Sie uns, um über Ihre Bedürfnisse zu sprechen und zu entdecken, wie wir Sie unterstützen können.',
    ctaButton: 'Kontaktieren Sie uns'
  }
};

const t = content[lang] || content.fr;
---

<Layout title={t.title} description={t.description} lang={lang}>
  <Hero 
    variant="none"
    lang={lang}
    title={t.heroTitle}
    buttonText={t.heroButton}
    buttonHref={`/${lang}/expertise/`}
  />

  <!-- Section "Qui sommes-nous" -->
  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-6 text-[var(--color-primary)]">
        {t.aboutTitle}
      </h2>
      <p class="text-lg text-gray-600 leading-relaxed">
        {t.aboutSubtitle}
      </p>
    </div>

    <div class="max-w-6xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        
        <!-- Vision -->
        <div class="card text-center">
          <div class="w-16 h-16 bg-[var(--color-primary)] rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"/>
            </svg>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-[var(--color-primary)]">{t.visionTitle}</h3>
          <p class="text-gray-600 leading-relaxed">{t.visionText}</p>
        </div>

        <!-- Mission -->
        <div class="card text-center">
          <div class="w-16 h-16 bg-[var(--color-primary)] rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z"/>
            </svg>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-[var(--color-primary)]">{t.missionTitle}</h3>
          <p class="text-gray-600 leading-relaxed">{t.missionText}</p>
        </div>

        <!-- Valeurs -->
        <div class="card text-center">
          <div class="w-16 h-16 bg-[var(--color-primary)] rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"/>
            </svg>
          </div>
          <h3 class="text-2xl font-bold mb-4 text-[var(--color-primary)]">{t.valuesTitle}</h3>
          <p class="text-gray-600 leading-relaxed mb-4">{t.valuesText}</p>
        </div>

      </div>
    </div>
  </section>

  <!-- Section témoignages -->
  <TestimonialsCarousel lang={lang} />
  
  <!-- Section CTA avec image de fond -->
  <CTASection 
    variant="overlay"
    lang={lang}
    title={t.ctaTitle}
    subtitle={t.ctaSubtitle}
    buttonText={t.ctaButton}
    buttonHref={`/${lang}/contact/`}
    imageSrc="/src/assets/img/cta.jpg"
    imageAlt="ABC Gourmet - Préparation culinaire professionnelle"
  />
</Layout>